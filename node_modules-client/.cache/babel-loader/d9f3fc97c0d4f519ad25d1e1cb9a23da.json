{"ast":null,"code":"var _jsxFileName = \"/Users/moosesdeuces/sei-june-bug/5-10-image-board-creator/image-board-creator/front-end/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport BoardContainer from './BoardContainer/BoardContainer';\nimport Profile from './Profile/Profile';\nimport UserContainer from './UserContainer/UserContainer';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.handleRegister = async formData => {\n      try {\n        console.log(formData, 'register');\n        const newUser = await fetch(\"http://localhost:9000/users\", {\n          method: \"POST\",\n          body: JSON.stringify(formData),\n          credentials: 'include',\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        const parsedResponse = await newUser.json();\n\n        if (parsedResponse.status === 200) {\n          this.setState({\n            loggedIn: true,\n            currentUser: parsedResponse.data\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.handleEditProfile = async formData => {\n      try {\n        console.log('logout');\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.handleLogin = async formData => {\n      console.log(formData, 'login');\n\n      try {\n        const loginUser = await fetch('http://localhost:9000/users/login', {\n          method: \"POST\",\n          body: JSON.stringify(formData),\n          credentials: 'include',\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        const parsedLoginResponse = await loginUser.json();\n        console.log(parsedLoginResponse);\n\n        if (parsedLoginResponse.status === 200) {\n          console.log(this.state, 'this.state at login');\n          this.setState({\n            loggedIn: true,\n            currentUser: parsedLoginResponse.data\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.logout = async () => {\n      console.log('logout');\n\n      try {\n        const logoutUser = await fetch('http://localhost:9000/users/logout', {\n          method: \"GET\",\n          credentials: 'include'\n        });\n\n        if (logoutUser.status === 200) {\n          this.setState({\n            loggedIn: false,\n            currentUser: null\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.state = {\n      loggedIn: false,\n      currentUser: null\n    };\n  }\n\n  render() {\n    // console.log(this.state, 'this.state app.js')\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.logout,\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Logout\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(UserContainer, {\n      handleRegister: this.handleRegister,\n      handleLogin: this.handleLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Profile, {\n      handleRegister: this.handleRegister,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(BoardContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/moosesdeuces/sei-june-bug/5-10-image-board-creator/image-board-creator/front-end/src/App.js"],"names":["React","Component","BoardContainer","Profile","UserContainer","App","constructor","handleRegister","formData","console","log","newUser","fetch","method","body","JSON","stringify","credentials","headers","parsedResponse","json","status","setState","loggedIn","currentUser","data","err","handleEditProfile","handleLogin","loginUser","parsedLoginResponse","state","logout","logoutUser","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport BoardContainer from './BoardContainer/BoardContainer';\nimport Profile from './Profile/Profile';\nimport UserContainer from './UserContainer/UserContainer';\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = {\n      loggedIn: false,\n      currentUser: null\n    }\n  }\n  handleRegister = async (formData) => {\n    try{\n      console.log(formData, 'register');\n      const newUser = await fetch(\"http://localhost:9000/users\", {\n        method: \"POST\",\n        body: JSON.stringify(formData),\n        credentials: 'include',\n        headers: {\n          \"Content-Type\": \"application/json\",\n        }\n      })\n      const parsedResponse = await newUser.json();\n      if(parsedResponse.status === 200){\n        this.setState({\n          loggedIn: true,\n          currentUser: parsedResponse.data\n        })\n      } \n\n    }catch(err){\n      console.log(err);\n    }\n  };\n  handleEditProfile = async (formData) => {\n    try{\n      console.log('logout');\n\n    }catch(err){\n      console.log(err); \n    }\n  }\n  handleLogin = async (formData) => {\n    console.log(formData, 'login');\n    try{\n      const loginUser = await fetch('http://localhost:9000/users/login', {\n        method: \"POST\",\n        body: JSON.stringify(formData),\n        credentials: 'include',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      })\n      const parsedLoginResponse = await loginUser.json();\n      console.log(parsedLoginResponse);\n      if(parsedLoginResponse.status === 200){\n        console.log(this.state, 'this.state at login')\n        this.setState({\n          loggedIn: true,\n          currentUser: parsedLoginResponse.data\n        })\n      }\n    }catch(err){\n      console.log(err);\n    }\n  };\n  // NOT WORKING\n  logout = async () => {\n    console.log('logout');\n    try{\n      const logoutUser = await fetch('http://localhost:9000/users/logout', {\n        method: \"GET\",\n        credentials: 'include'\n      });\n      if(logoutUser.status === 200){\n        this.setState({\n          loggedIn: false,\n          currentUser: null\n        })\n      }\n    }catch(err){\n      console.log(err);\n    }\n\n  };\n  render(){\n    // console.log(this.state, 'this.state app.js')\n    return (\n      <div className=\"App\">\n      <nav>\n        <button onClick={() =>  this.logout } type=\"submit\">Logout</button>\n      </nav>\n        <div>\n          <UserContainer handleRegister={ this.handleRegister } handleLogin={ this.handleLogin } />\n        </div>\n        <hr />\n          <Profile handleRegister={ this.handleRegister } />\n        <hr />\n        <div>\n          <BoardContainer />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}