{"ast":null,"code":"var _jsxFileName = \"/Users/moosesdeuces/sei-june-bug/5-24-react-app-python-backend/image-board-creator-react-python/client/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport BoardContainer from './BoardContainer/BoardContainer';\nimport UserContainer from './UserContainer/UserContainer';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      this.getBoards();\n    };\n\n    this.getBoards = async () => {\n      const boards = await fetch(\"\".concat(process.env.REACT_APP_BACKEND_ADDRESS, \"/boards\"), {\n        credentials: 'include'\n      });\n      const boardsJSON = await boards.json();\n      this.setState({\n        boards: boardsJSON.data\n      });\n      console.log(this.state.boards, 'this.state.boards after get boards');\n    };\n\n    this.handleRegister = async formData => {\n      try {\n        console.log(formData, 'register');\n        const newUser = await fetch(\"http://localhost:9000/users\", {\n          method: \"POST\",\n          body: JSON.stringify(formData),\n          credentials: 'include',\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        const parsedResponse = await newUser.json();\n        console.log(parsedResponse, 'parsedResponse register');\n\n        if (parsedResponse.status === 200) {\n          this.setState({\n            loggedIn: true,\n            currentUser: parsedResponse.data\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.handleLogin = async formData => {\n      try {\n        const loginUser = await fetch('http://localhost:9000/users/login', {\n          method: \"POST\",\n          body: JSON.stringify(formData),\n          credentials: 'include',\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        const parsedLoginResponse = await loginUser.json();\n        console.log(parsedLoginResponse, 'login');\n\n        if (parsedLoginResponse.status === 200) {\n          this.setState({\n            loggedIn: true,\n            currentUser: parsedLoginResponse.data\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.logout = async () => {\n      console.log('logout');\n\n      try {\n        const logoutUser = await fetch('http://localhost:9000/users/logout', {\n          method: \"GET\",\n          credentials: 'include'\n        });\n\n        if (logoutUser.status === 200) {\n          this.setState({\n            loggedIn: false,\n            currentUser: null\n          });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.createBoard = async formData => {\n      const newBoard = await fetch(\"\".concat(process.env.REACT_APP_BACKEND_ADDRESS, \"/boards\"), {\n        credentials: 'include',\n        method: \"POST\",\n        body: JSON.stringify(formData),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const parsedResponse = await newBoard.json();\n\n      if (newBoard.status === 200) {\n        this.setState({\n          boards: [...this.state.boards, parsedResponse.data]\n        });\n      }\n    };\n\n    this.state = {\n      loggedIn: false,\n      currentUser: null,\n      boards: []\n    };\n  }\n\n  render() {\n    console.log(this.state.currentUser, 'current user');\n    console.log(this.state.boards, 'this.state.boards app');\n    console.log(this.state, 'this.state app');\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"a box of thoughts\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, this.state.loggedIn ? React.createElement(BoardContainer, {\n      showBoards: this.state.currentUser.boards,\n      createBoard: this.createBoard,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }) : React.createElement(UserContainer, {\n      handleRegister: this.handleRegister,\n      handleLogin: this.handleLogin,\n      handleEditProfile: this.handleEditProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/moosesdeuces/sei-june-bug/5-24-react-app-python-backend/image-board-creator-react-python/client/src/App.js"],"names":["React","Component","BoardContainer","UserContainer","App","constructor","componentDidMount","getBoards","boards","fetch","process","env","REACT_APP_BACKEND_ADDRESS","credentials","boardsJSON","json","setState","data","console","log","state","handleRegister","formData","newUser","method","body","JSON","stringify","headers","parsedResponse","status","loggedIn","currentUser","err","handleLogin","loginUser","parsedLoginResponse","logout","logoutUser","createBoard","newBoard","render","handleEditProfile"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport BoardContainer from './BoardContainer/BoardContainer';\nimport UserContainer from './UserContainer/UserContainer';\n\nclass App extends Component {\n  constructor(){\n    super();\n    this.state = {\n      loggedIn: false,\n      currentUser: null,\n      boards: []\n    }\n  }\n  componentDidMount = () => {\n    this.getBoards()\n  }\n\n  getBoards = async () => {\n    const boards = await fetch(`${process.env.REACT_APP_BACKEND_ADDRESS}/boards`, {\n        credentials: 'include'\n    })\n    const boardsJSON = await boards.json();\n    this.setState({\n        boards: boardsJSON.data,\n    })\n    console.log(this.state.boards, 'this.state.boards after get boards')\n  };\n\n  handleRegister = async (formData) => {\n    try{\n      console.log(formData, 'register');\n      const newUser = await fetch(\"http://localhost:9000/users\", {\n        method: \"POST\",\n        body: JSON.stringify(formData),\n        credentials: 'include',\n        headers: {\n          \"Content-Type\": \"application/json\",\n        }\n      })\n      const parsedResponse = await newUser.json();\n      console.log(parsedResponse, 'parsedResponse register')\n      if(parsedResponse.status === 200){\n        this.setState({\n          loggedIn: true,\n          currentUser: parsedResponse.data\n        })\n      } \n\n    }catch(err){\n      console.log(err);\n    }\n  };\n  \n  // handleEditProfile = async (formData) => {\n  //   try{\n  //     console.log('logout');\n\n  //   }catch(err){\n  //     console.log(err); \n  //   }\n  // };\n  \n  handleLogin = async (formData) => {\n    try{\n      const loginUser = await fetch('http://localhost:9000/users/login', {\n        method: \"POST\",\n        body: JSON.stringify(formData),\n        credentials: 'include',\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      })\n      const parsedLoginResponse = await loginUser.json();\n      console.log(parsedLoginResponse, 'login')\n      if(parsedLoginResponse.status === 200){\n        this.setState({\n          loggedIn: true,\n          currentUser: parsedLoginResponse.data,\n        })\n      }\n    }catch(err){\n      console.log(err);\n    }\n  };\n  // NOT WORKING\n  \n  logout = async () => {\n    console.log('logout');\n    try{\n      const logoutUser = await fetch('http://localhost:9000/users/logout', {\n        method: \"GET\",\n        credentials: 'include'\n      });\n      if(logoutUser.status === 200){\n        this.setState({\n          loggedIn: false,\n          currentUser: null\n        })\n      }\n    }catch(err){\n      console.log(err);\n    }\n\n  };\n\n  createBoard = async (formData) => {\n    const newBoard = await fetch(`${process.env.REACT_APP_BACKEND_ADDRESS}/boards`, {\n        credentials: 'include',\n        method: \"POST\",\n        body: JSON.stringify(formData),\n        headers: {\n            \"Content-Type\": \"application/json\"\n        }\n    })\n    const parsedResponse = await newBoard.json();\n    if(newBoard.status === 200){\n        this.setState({\n            boards: [...this.state.boards, parsedResponse.data]\n        })\n    }\n  };\n\n  render(){\n    console.log(this.state.currentUser, 'current user')\n    console.log(this.state.boards, 'this.state.boards app')\n    console.log(this.state, 'this.state app')\n    return (\n      <div className=\"App\">\n      <div className=\"header\">\n        <h4>a box of thoughts</h4>\n      </div>\n        <div>\n          {\n            this.state.loggedIn ?\n            <BoardContainer showBoards={ this.state.currentUser.boards } createBoard={ this.createBoard } />\n            :\n            <UserContainer handleRegister={ this.handleRegister } handleLogin={ this.handleLogin } handleEditProfile={ this.handleEditProfile } />\n          }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}